# MVCCoreTutorial

**Model-view-controller**

**Model**
<br />This is where data and business logic is stored.

**View**
<br />The View is the actual visual representation of your Model

**Controller**
<br />The Controller should handle all communication between your Model and your View.

**ASP.NET MVC View Engine**
<br />WebForms are old and Razor view engine is the most commonly used view engine.


**.NET Core**
<br />You know what this is.

<br />
<br />

**Controller**
<br />Right click and add a Controller. Scaffolding is your friend.
<br />It looks like a regular C# class. It inherits the Controller class, which is how the .NET frameworks know that this class is to be treated as an MVC Controller. It has one method called Index(), which will try to return the default view by calling the View() method.

```csharp
using Microsoft.AspNetCore.Mvc;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;

namespace MVCCoreTutorial.Controllers
{
	public class YoloController : Controller
	{
		public IActionResult Index()
		{
			return View();
		}
	}
}
```



<br />
<br />

**View**
<br />Right click and add a View to your folder based on the controller we are using.
<br />Basic HTML with some Razor at the top.

```html
@{
    ViewData["Title"] = "Yolo";
}

<div class="text-center">
    <h1 class="display-4">Yolo</h1>
    <p>yolo..</p>
</div>
```



<br />
<br />

**Model**
<br />In the MVC architecture, the Model is generated by the Controller and then passed to the View, which outputs the relevant data to the user.
<br />Model can be any kind of object found in the framework. It could in fact be a simple number or string, or it could be a complex object instantiated from a class, e.g. a User class which holds information about a user, a GuestbookEntry item which contains a post to a guestbook or anything else. That also means that your Model can be a class you already have, e.g. something that comes from the database, or a class that you create specifically to become a Model for one or several Views.
<br />Right click and add a regular class to your folder.

```csharp
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;

namespace MVCCoreTutorial.Models
{
	public class Yolo
	{	
		public int ID { get; set; }
		public string YoloMessage { get; set; }
	}
}
```

<br />the Model should be instantiated by the Controller and returned with the view.

```csharp
public IActionResult Index()
{
    return View();
}
```

<br />We now return the model with the view.

```csharp
public IActionResult Index()
{
	Yolo yolo = new Yolo();

	yolo.ID = 1;
	yolo.YoloMessage = "Yo only live oop";

	return View(yolo);
}
```


<br />a View can work without a Model just fine, but when we want to actually use a Model, we need to make the View aware of this and tell it which type we expect the Model to be. This is done with the Razor @model directive.

```csharp
@model MVCCoreTutorial.Models.Yolo
```



<br />Now we can use the @Model object to access the properties of the Model sent through.
<br /> NOTE: The M in Model must be capitalised and @model must be lower case. You will get errors if not.

```html

@model MVCCoreTutorial.Models.Yolo

@{
    ViewData["Title"] = "Yolo";
}

<div class="text-center">
    <h1 class="display-4">Yolo</h1>
    <p>yolo..</p>

    @Model.ID

    <br />

    @Model.YoloMessage

</div>

```

<br />
<br />

**Razor**
<br />Razor allows you to write in various "dialects", based on your favorite .NET language. 
<br />The biggest advantage of the Razor is the fact that you can mix client-side markup (HTML) with server-side code (e.g C# or VB.NET), without having to explicitly jump in and out of the two syntax types.
<br />
<br />
**HTML Encoding**
<br />Use the @Html.Raw() method to render raw html. Like JQuery html().
<br />Create a variable and use it in the Html.
```html
@{
    var HtmlMessage = "<b>this is a messgae.</b>";
}

<div class="text-center">
    
    @HtmlMessage

    <br />
    
    @Html.Raw(HtmlMessage)

</div>
```

<br />Output:

```html
<b>this is a messgae.</b>
this is a messgae.
```

<br />
<br />

**Explicit expressions**
<br /> Razor comes with an explicit expression syntax for just those situations and basically it's all about wrapping your expression with a set of parentheses. This makes it easier for the parser to understand what you're doing, and allows for stuff like calculations and modifications inside of a Razor expression.
```html
@{
    var HtmlMessage = "<b>this is a messgae.</b>";
}

<div class="text-center">

    @(1 + 1)

    <br />

    @(HtmlMessage.Length)

</div>
```

<br />Output:

```html
2
25
```


<br />
<br />

**Multi-statement Razor blocks**
<br />Razor allows you to enter a dedicated, multiline code-block by entering a start curly-bracket after the @-operator.

```html
@{
    var MultiMessage = "This is a multi message";
}

@MultiMessage
```

<br />Output:

```html
This is a multi message
```


<br />
<br />



<br />
<br />

**HTML tags and plain text inside code blocks**
<br />Razor allows you to mix in HTML tags directly in your code blocks, like this:

```html
@{
    var MultiMessage = "This is a multi message";

    <p>This is markup @MultiMessage</p>

}

@MultiMessage
```

<br />Output:

```html
This is markup This is a multi message

This is a multi message
```

<br />
<br />

If you want plain text in code block use the @: operator: This will return the text with not parsing it through markup.
<br />Also if you want multiple lines of plain text, use the "text" tag.

```html
@{
    @:This is plain text!
  
    <text>This is plain text as well, and we can
    even span multiple lines, if needed!</text>
}
```

<br />
<br />

**Razor server-side comments**
<br />Razor allows you to mix in HTML tags directly in your code blocks, like this:
<br />
<br />
Inside Views
```html
@*
    Here's a Razor server-side comment
    It won't be rendered to the browser
    It can span multiple lines
*@
```

<br />
<br />

Inside Code Blocks
```csharp
@{
    @*
    Here's a Razor server-side comment
    *@

    // C# style single-line comment

    /* 
    C# style multiline comment
    It can span multiple lines
    */    
}
```

<br />
<br />

**Razor variables**
<br />Razor allows you to mix in HTML tags directly in your code blocks, like this:
<br />
<br />
Just like you would in C#.
```csharp
@{ 
    string helloWorldMsg = "Good day";
    if(DateTime.Now.Hour > 17)
    {
    helloWorldMsg = "Good evening";
    }
    helloWorldMsg += ", world!";
    helloWorldMsg = helloWorldMsg.ToUpper();
}

<div>
    @helloWorldMsg
</div>
```

<br />
<br />

**Razor IF Statements**
<br />Razor allows you to mix in HTML tags directly in your code blocks, like this:
<br />
<br />
Just like you would in C#. 
```csharp
@if(DateTime.Now.Year >= 2042)
{
    <span>The year 2042 has finally arrived!</span>
}
else
{
    <span>We're still waiting for the year of 2042...</span>
}
```

<br />
<br />

**Razor "for" loop**
<br />
<br />
Just like you would in C#. 
```csharp
@{
    List<string> list = new List<string>();
    list.Add("Dave");
    list.Add("Mike");
    list.Add("Chuck");
}

<ul>
    @for (int i = 0; i < list.Count; i++)
    {
        <li>@list[i]</li>
    }
</ul>
```

<br />
<br />

**Razor "foreach" loop**
<br />
<br />
Just like you would in C#. 
```csharp
@{
    List<string> list = new List<string>();
    list.Add("Dave");
    list.Add("Mike");
    list.Add("Chuck");
}

<ul>
    @foreach (string i in list)
    {
        <li>@i</li>
    }
</ul>
```

<br />
<br />

**Razor "while" loop**
<br />
<br />
Just like you would in C#. 
```csharp
@{
    List<string> list = new List<string>();
    list.Add("Dave");
    list.Add("Mike");
    list.Add("Chuck");
}

@{
    int i = 0;
}

<ul>
    @while (i < list.Count)
    {
        <li>@list[i++]</li>
    }
</ul>
```

<br />
<br />

**Razor "do while" loop**
<br />
<br />
Just like you would in C#. 
```csharp
@{
    List<string> list = new List<string>();
    list.Add("Dave");
    list.Add("Mike");
    list.Add("Chuck");
}

@{
    int j = 0;
}

<ul>
    @do 
    {
        <li>@list[j++]</li>
    } while (j < list.Count);
</ul>
```

<br />
<br />

**Razor "break/continue" loop**
<br />
<br />
Just like you would in C#. 
```csharp
@{
    List<string> list = new List<string>();
    list.Add("Dave");
    list.Add("Mike");
    list.Add("Chuck");
}

<ul>
    @for (int l = 0; l < list.Count; l++)
    {
        <li>@list[l]</li>

        @if (l >= 2)
        {
            <li>...and so on</li>

            break;
        }
    }
</ul>
```
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />